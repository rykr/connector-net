<?xml version="1.0" encoding="utf-8"?>
<Mapping Space="C-S" xmlns="urn:schemas-microsoft-com:windows:storage:mapping:CS">
	<EntityContainerMapping StorageEntityContainer="testModelStoreContainer" CdmEntityContainer="testEntities">

<!--		<EntitySetMapping Name="Employee">
			<EntityTypeMapping TypeName="TestDB.Employee">
				<MappingFragment StoreEntitySet="Employees" >
					<ScalarProperty Name="Id" ColumnName="Id" />
					<ScalarProperty Name="LastName" ColumnName="LastName" />
					<ScalarProperty Name="FirstName" ColumnName="FirstName" />
				</MappingFragment>
			</EntityTypeMapping>
		</EntitySetMapping>-->

    <EntitySetMapping Name="Employees">
      <!-- 
      The IsTypeOf keyword tells the mapping that the following mapping applies to all subtypes of 
      the given Type (in this case, InternationalOrder as well as Order)
      -->
      <EntityTypeMapping TypeName="IsTypeOf(testModel.Employees)">
        <MappingFragment StoreEntitySet="Employees" >
          <ScalarProperty Name="EmployeeId" ColumnName="employeeId" />
          <ScalarProperty Name="LastName" ColumnName="lastName" />
          <ScalarProperty Name="FirstName" ColumnName="firstName" />
          <ScalarProperty Name="Age" ColumnName ="age"/>
        </MappingFragment>
      </EntityTypeMapping>
      
      <EntityTypeMapping TypeName ="IsTypeOf(testModel.SalariedEmployee)">
        <MappingFragment StoreEntitySet="SalariedEmployees">
          <ScalarProperty Name="EmployeeId" ColumnName="employeeId" />
          <ScalarProperty Name="Salary" ColumnName="salary" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>    
    
    
    <EntitySetMapping Name="Children">
      <EntityTypeMapping TypeName="IsTypeOf(testModel.Children)">
        <MappingFragment StoreEntitySet="EmployeeChildren" >
          <ScalarProperty Name="Id" ColumnName="Id" />
          <ScalarProperty Name="EmployeeID" ColumnName="EmployeeID" />
          <ScalarProperty Name="LastName" ColumnName="LastName" />
          <ScalarProperty Name="FirstName" ColumnName="FirstName" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>

    <EntitySetMapping Name="Companies">
      <EntityTypeMapping TypeName="IsTypeOf(testModel.Companies)">
        <MappingFragment StoreEntitySet="Companies" >
          <ScalarProperty Name="Id" ColumnName="Id" />
          <ScalarProperty Name="Name" ColumnName="Name" />
          <ScalarProperty Name="DateBegan" ColumnName="DateBegan" />
          <ScalarProperty Name="NumEmployees" ColumnName="NumEmployees" />
          <ComplexProperty Name ="Address" TypeName ="TestDB.CommonAddress" >
            <ScalarProperty Name="Address" ColumnName="Address" />
            <ScalarProperty Name="City" ColumnName="City" />
            <ScalarProperty Name="State" ColumnName="State" />
            <ScalarProperty Name="ZipCode" ColumnName="ZipCode" />
          </ComplexProperty >        
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>

    <EntitySetMapping Name="Toys">
      <EntityTypeMapping TypeName="IsTypeOf(testModel.Toys)">
        <MappingFragment StoreEntitySet="Toys" >
          <ScalarProperty Name="Id" ColumnName="Id" />
          <ScalarProperty Name="Name" ColumnName="Name" />
          <ScalarProperty Name="MinAge" ColumnName="MinAge" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>

    <AssociationSetMapping Name="FK_Toys_Companies" TypeName="testModel.FK_Toys_Companies" StoreEntitySet="Toys">
      <EndProperty Name="Companies">
        <ScalarProperty Name="Id" ColumnName="MakerId" />
      </EndProperty>
      <EndProperty Name="Toys">
        <ScalarProperty Name="Id" ColumnName="Id" />
      </EndProperty>
    </AssociationSetMapping>

    <EntitySetMapping Name="Stores">
      <EntityTypeMapping TypeName="IsTypeOf(testModel.Stores)">
        <MappingFragment StoreEntitySet="Stores" >
          <ScalarProperty Name="Id" ColumnName="Id" />
          <ScalarProperty Name="Name" ColumnName="Name" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>

    <EntitySetMapping Name="Orders">
      <EntityTypeMapping TypeName="IsTypeOf(testModel.Orders)">
        <MappingFragment StoreEntitySet="Orders" >
          <ScalarProperty Name="Id" ColumnName="Id" />
          <ScalarProperty Name="StoreId" ColumnName="StoreId" />
          <ScalarProperty Name="Freight" ColumnName="Freight" />
        </MappingFragment>
      </EntityTypeMapping>
    </EntitySetMapping>

  </EntityContainerMapping>
</Mapping>